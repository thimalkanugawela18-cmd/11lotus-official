<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>11LOTUS | Official</title>
<style>
body { background:#050505; color:#fff; font-family:sans-serif; text-align:center; padding-top:50px; margin:0; }
.logo { font-size: 35px; color: #d4af37; letter-spacing: 8px; margin-bottom: 40px; }
.btn { padding:18px; width:80%; border:1px solid #d4af37; color:#d4af37; background:none; font-weight:bold; cursor:pointer; text-transform:uppercase; }
#video { width:100%; max-width:350px; background:#111; border:2px solid #d4af37; display:none; margin:20px auto; border-radius:10px; }
#interface { display:none; padding:20px; }
input { background:#111; border:1px solid #333; color:#fff; padding:12px; width:85%; margin:10px; text-align:center; border-radius:5px; }
</style>
</head>
<body>

<div id="home">
<div class="logo">11LOTUS</div>
<button class="btn" onclick="openDirectCam()">Unlock Your Soul</button>
</div>

<div id="interface">
<video id="video" autoplay playsinline></video>
<p id="status" style="font-size:12px; color:#666;">Align Rabbit QR in front of camera</p>
<input type="text" id="pid" placeholder="Partner QR ID">
<input type="password" id="pass" placeholder="Secret Password">
<button class="btn" onclick="alert('Connecting to Sanctuary...')">Enter Sanctuary</button>
</div>

<script>
async function openDirectCam() {
document.getElementById('home').style.display = 'none';
document.getElementById('interface').style.display = 'block';
const video = document.getElementById('video');
video.style.display = 'block';

try {
const stream = await navigator.mediaDevices.getUserMedia({
video: { facingMode: "environment" }
});
video.srcObject = stream;
} catch (err) {
alert("Camera Error: " + err.message);
// ෆ්‍රන්ට් කැමරාවෙන් ට්‍රයි එකක් දෙමු
try {
const stream = await navigator.mediaDevices.getUserMedia({ video: true });
video.srcObject = stream;
} catch (e) {
alert("Still failing. Please check phone settings.");
}
}
}
</script>

</body>
</html>
